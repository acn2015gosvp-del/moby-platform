# ë³´ê³ ì„œ ìƒì„± ê°€ì´ë“œ

MOBY Platformì˜ LLM ê¸°ë°˜ ë³´ê³ ì„œ ìƒì„± ê¸°ëŠ¥ì— ëŒ€í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ“‹ ê°œìš”

MOBY Platformì€ Gemini APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¼ì„œ ë°ì´í„°ì™€ ì´ìƒ íƒì§€ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì£¼ê°„/ì¼ì¼ ë³´ê³ ì„œë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì— Gemini API í‚¤ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

```env
GEMINI_API_KEY=your-gemini-api-key-here
```

### 2. APIë¥¼ í†µí•œ ë³´ê³ ì„œ ìƒì„±

**ì—”ë“œí¬ì¸íŠ¸**: `POST /reports/generate`

**ìš”ì²­ ì˜ˆì‹œ**:
```json
{
  "period_start": "2025-11-07 09:00:00",
  "period_end": "2025-11-14 09:00:00",
  "equipment": "Conveyor A-01",
  "include_mlp_anomalies": true,
  "include_if_anomalies": true
}
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "success": true,
  "data": {
    "report_id": "report_20251117_143412",
    "report_content": "# ğŸ“˜ MOBY ì„¤ë¹„ ëª¨ë‹ˆí„°ë§ Â· ì´ìƒ íƒì§€ ì£¼ê°„ ë³´ê³ ì„œ\n\n...",
    "metadata": {
      "period_start": "2025-11-07 09:00:00",
      "period_end": "2025-11-14 09:00:00",
      "equipment": "Conveyor A-01",
      "generated_at": "2025-11-17 14:34:12"
    },
    "generated_at": "2025-11-17T14:34:12Z"
  },
  "message": "ë³´ê³ ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 3. ì›¹ UIë¥¼ í†µí•œ ë³´ê³ ì„œ ìƒì„±

1. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000/reports` ì ‘ì†
2. ë³´ê³  ê¸°ê°„, ì„¤ë¹„ëª… ì…ë ¥
3. "ë³´ê³ ì„œ ìƒì„±" ë²„íŠ¼ í´ë¦­
4. ìƒì„±ëœ ë³´ê³ ì„œ í™•ì¸ ë° ë‹¤ìš´ë¡œë“œ

---

## ğŸ“Š ë³´ê³ ì„œ ë‚´ìš©

ìƒì„±ëœ ë³´ê³ ì„œëŠ” ë‹¤ìŒ ì„¹ì…˜ì„ í¬í•¨í•©ë‹ˆë‹¤:

### 1. Executive Summary
- í•µì‹¬ ë°œê²¬ì‚¬í•­ ìš”ì•½
- ì£¼ìš” ì„¼ì„œ ìƒê´€ê´€ê³„
- ì´ìƒ íƒì§€ ê±´ìˆ˜ ë° ì‹¬ê°ë„
- ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš” ì—¬ë¶€

### 2. ì„¼ì„œë³„ í†µê³„ ìš”ì•½
- ì˜¨ë„/ìŠµë„ (DHT11)
- ì§„ë™ (Vibration)
- ê°€ì†ë„/ìì´ë¡œ (MPU-6050)
- ìŒì•• (Sound)
- ê¸°ì•• (Pressure)

### 3. ì•ŒëŒ ë° ì´ìƒ íƒì§€ ìƒì„¸
- ê·œì¹™ ê¸°ë°˜ ì„¼ì„œ ì•ŒëŒ
- MLP ê¸°ë°˜ ì´ìƒ íƒì§€ (ì•Œë ¤ì§„ ì´ìƒ)
- Isolation Forest ê¸°ë°˜ ë¯¸ì§€ì˜ ì´ìƒ (Novelty)

### 4. ìƒê´€ ë¶„ì„ ë° ì£¼ê°„ ì¸ì‚¬ì´íŠ¸
- ì„¼ì„œ ê°„ ìƒê´€ê³„ìˆ˜
- ì£¼ìš” ì¸ì‚¬ì´íŠ¸

### 5. ê¶Œì¥ ì‚¬í•­
- ì¦‰ì‹œ ì¡°ì¹˜ (High Priority)
- ì¤‘ê¸° ì¡°ì¹˜ (Medium Priority)
- ëª¨ë‹ˆí„°ë§ ì§€ì† (Ongoing)

---

## ğŸ”§ ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­

### ì‚¬ìš© ëª¨ë¸
- **Gemini 2.0 Flash Experimental**: ë¹ ë¥¸ ì‘ë‹µ ì†ë„ì™€ ë†’ì€ í’ˆì§ˆì˜ ë³´ê³ ì„œ ìƒì„±

### ìƒì„± ì„¤ì •
- **Temperature**: 0.18 (ì¼ê´€ì„± ìˆëŠ” ì¶œë ¥)
- **Max Output Tokens**: 8192
- **Top P**: 0.8
- **Top K**: 40

### ë°ì´í„° ìˆ˜ì§‘
ë³´ê³ ì„œ ìƒì„± ì‹œ ë‹¤ìŒ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤:
- ì•ŒëŒ ë°ì´í„° (ë°ì´í„°ë² ì´ìŠ¤)
- ì„¼ì„œ í†µê³„ (InfluxDB - í–¥í›„ êµ¬í˜„)
- ì´ìƒ íƒì§€ ê²°ê³¼ (MLP, Isolation Forest)
- ì„¼ì„œ ê°„ ìƒê´€ê³„ìˆ˜ (í–¥í›„ êµ¬í˜„)

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### API í‚¤ ë³´ì•ˆ
- `GEMINI_API_KEY`ëŠ” ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” í™˜ê²½ ë³€ìˆ˜ë‚˜ ì‹œí¬ë¦¿ ê´€ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš©

### ë¹„ìš©
- Gemini APIëŠ” ì‚¬ìš©ëŸ‰ì— ë”°ë¼ ê³¼ê¸ˆë©ë‹ˆë‹¤
- ëŒ€ëŸ‰ì˜ ë³´ê³ ì„œ ìƒì„± ì‹œ ë¹„ìš©ì„ ê³ ë ¤í•˜ì„¸ìš”

### ì„±ëŠ¥
- ë³´ê³ ì„œ ìƒì„±ì—ëŠ” ì•½ 10-30ì´ˆê°€ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ê¸´ ê¸°ê°„ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•  ê²½ìš° ë” ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## ğŸ› ë¬¸ì œ í•´ê²°

### "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤" ì˜¤ë¥˜
1. `.env` íŒŒì¼ì— `GEMINI_API_KEY`ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
2. ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ í™•ì¸

### "google-generativeai íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤" ì˜¤ë¥˜
```bash
pip install google-generativeai>=0.3.0
```

### ë³´ê³ ì„œ ìƒì„± ì‹¤íŒ¨
1. API í‚¤ê°€ ìœ íš¨í•œì§€ í™•ì¸
2. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
3. ì„œë²„ ë¡œê·¸ í™•ì¸ (`logs/moby.log` ë˜ëŠ” `logs/moby-debug.log`)

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Gemini API ë¬¸ì„œ](https://ai.google.dev/docs)
- [Google Generative AI Python SDK](https://github.com/google/generative-ai-python)

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-XX

