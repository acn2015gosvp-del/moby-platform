Loaded cached credentials.
## MOBY ?뚮옯???곗씠???뚯씠?꾨씪??遺꾩꽍: Sensor to Grafana

??臾몄꽌??MOBY ?뚮옯?쇱쓽 ?듭떖 ?곗씠???뚯씠?꾨씪???쇱꽌 ?곗씠???섏쭛遺??Grafana ?쒓컖?붽퉴吏)???④퀎蹂꾨줈 遺꾩꽍?섍퀬, 媛??④퀎?먯꽌 諛쒖깮?????덈뒗 ?좎옱??蹂묐ぉ ?꾩긽怨??대? 媛쒖꽑?섍린 ?꾪븳 ?꾩씠?붿뼱瑜??쒖떆?⑸땲??

### ?꾩껜 ?곗씠???먮쫫??
```
[Sensor] -> [MQTT Broker] -> [FastAPI Backend] -> [InfluxDB] -> [Grafana]
```

---

### 1?④퀎: ?쇱꽌 (Sensor)

*   **??븷:** ?곗뾽 ?꾩옣???ㅻ퉬??遺李⑸릺??吏꾨룞, ?뚯쓬, ?⑤룄, ?듬룄 ??臾쇰━???곗씠?곕? ?섏쭛?⑸땲??
*   **?곗씠???먮쫫:** ?섏쭛???꾨궇濡쒓렇/?붿????좏샇瑜?JSON怨?媛숈? 援ъ“?붾맂 ?곗씠???뺤떇?쇰줈 蹂?섑븯??吏?뺣맂 MQTT ?좏뵿(Topic)?쇰줈 諛쒗뻾(Publish)?⑸땲??
*   **?좎옱??蹂묐ぉ:**
    *   **?ㅽ듃?뚰겕 遺덉븞??** ?쇱꽌媛 ?꾩튂???꾩옣??Wi-Fi ?먮뒗 ?좎꽑 ?ㅽ듃?뚰겕 ?곌껐??遺덉븞?뺥븷 寃쎌슦 ?곗씠???좎떎??諛쒖깮?????덉뒿?덈떎.
    *   **?쇱꽌 ?먯껜??寃고븿:** ?쇱꽌??臾쇰━??怨좎옣, ?꾩썝 臾몄젣, 痢≪젙 ?ㅻ쪟 ?깆쑝濡??명빐 ?곗씠?곗쓽 ?뺥솗??諛??좊ː?꾧? ??섎맆 ???덉뒿?덈떎.
    *   **?곗씠???뺤떇 遺덉씪移?** ?щ윭 醫낅쪟???쇱꽌媛 媛곴린 ?ㅻⅨ ?뺤떇???곗씠?곕? 諛쒗뻾??寃쎌슦 ?곗씠???뚯떛(Parsing) 怨쇱젙?먯꽌 蹂듭옟?깆씠 利앷??⑸땲??
*   **媛쒖꽑 ?꾩씠?붿뼱:**
    *   **?ｌ? 而댄벂???꾩엯:** ?쇱꽌 ?붾컮?댁뒪???뚭퇋紐?踰꾪띁(Buffer)瑜?援ы쁽?섏뿬 ?ㅽ듃?뚰겕 ?곌껐???딄꼈?????곗씠?곕? ?꾩떆 ??ν븯怨? ?곌껐??蹂듦뎄?섎㈃ ?ъ쟾?≫븯??濡쒖쭅??異붽??⑸땲??
    *   **?쇱꽌 ?곹깭 紐⑤땲?곕쭅:** ?쇱꽌??Health Check(?곹깭 ?먭?) ?곗씠?곕? 二쇨린?곸쑝濡?MQTT ?ㅻⅨ ?좏뵿?쇰줈 諛쒗뻾?섏뿬 以묒븰?먯꽌 ?쇱꽌???뺤긽 ?숈옉 ?щ?瑜?紐⑤땲tering?⑸땲??
    *   **?곗씠???ㅽ궎留??쒖???** 紐⑤뱺 ?쇱꽌媛 怨듯넻??JSON ?ㅽ궎留덈? ?곕Ⅴ?꾨줉 ?쒖????섎┰?섏뿬 ?곗씠??泥섎━???쇨??깆쓣 ?뺣낫?⑸땲??

---

### 2?④퀎: MQTT 釉뚮줈而?(MQTT Broker)

*   **??븷:** ?쇱꽌(Publisher)? FastAPI 諛깆뿏??Subscriber) ?ъ씠瑜?以묎컻?섎뒗 硫붿떆吏 釉뚮줈而ㅼ엯?덈떎. 諛쒗뻾/援щ룆 紐⑤뜽???듯빐 ?쒖뒪??媛꾩쓽 寃고빀??Coupling)瑜???땅?덈떎.
*   **?곗씠???먮쫫:** ?쇱꽌濡쒕????뱀젙 ?좏뵿?쇰줈 諛쒗뻾??硫붿떆吏瑜??섏떊?섏뿬, ?대떦 ?좏뵿??援щ룆?섍퀬 ?덈뒗 FastAPI ?대씪?댁뼵?몄뿉寃?硫붿떆吏瑜??꾨떖?⑸땲??
*   **?좎옱??蹂묐ぉ:**
    *   **釉뚮줈而??⑥씪 ?μ븷??SPOF):** MQTT 釉뚮줈ker媛 ?⑥씪 ?쒕쾭濡??댁쁺??寃쎌슦, ?대떦 ?쒕쾭???μ븷媛 諛쒖깮?섎㈃ ?꾩껜 ?곗씠???섏쭛 ?뚯씠?꾨씪?몄씠 以묐떒?⑸땲??
    *   **硫붿떆吏 怨쇰???** ?섎갚, ?섏쿇 媛쒖쓽 ?쇱꽌媛 ?숈떆????됱쓽 ?곗씠?곕? 諛쒗뻾??寃쎌슦 釉뚮줈而ㅼ쓽 泥섎━ ?⑸웾??珥덇낵?섏뿬 硫붿떆吏 吏???먮뒗 ?좎떎??諛쒖깮?????덉뒿?덈떎.
    *   **蹂댁븞:** ?몄쬆/?멸? ?뺤콉???쒕?濡??ㅼ젙?섏? ?딆쑝硫?鍮꾩씤媛???대씪?댁뼵?몄쓽 ?묎렐?쇰줈 ?명빐 ?쒖뒪?쒖뿉 蹂댁븞 ?꾪삊???????덉뒿?덈떎.
*   **媛쒖꽑 ?꾩씠?붿뼱:**
    *   **MQTT ?대윭?ㅽ꽣留?** EMQX, VerneMQ ???대윭?ㅽ꽣留곸쓣 吏?먰븯??MQTT 釉뚮줈而ㅻ? ?꾩엯?섏뿬 怨좉??⑹꽦(High Availability)???뺣낫?섍퀬 遺?섎? 遺꾩궛?⑸땲??
    *   **QoS(Quality of Service) ?덈꺼 理쒖쟻??** ?곗씠?곗쓽 以묒슂?꾩뿉 ?곕씪 MQTT QoS ?덈꺼(0, 1, 2)???곸젅???ㅼ젙?⑸땲?? (?? ?쇰컲 ?곗씠?곕뒗 QoS 0 ?먮뒗 1, ?쒖뼱 ?좏샇??QoS 2)
    *   **蹂댁븞 媛뺥솕:** TLS/SSL ?뷀샇???듭떊???곸슜?섍퀬, ?대씪?댁뼵??ID? ?몄쬆??Certificates) 湲곕컲??媛뺣젰???몄쬆/?멸? ?뺤콉???섎┰?⑸땲??

---

### 3?④퀎: FastAPI 諛깆뿏??(FastAPI Backend)

*   **??븷:** MQTT 釉뚮줈而ㅻ줈遺???쇱꽌 ?곗씠?곕? 援щ룆?섍퀬, ?섏떊???곗씠?곕? 泥섎━(Validation, Transformation)?섏뿬 InfluxDB????ν븯????븷???섑뻾?⑸땲??
*   **?곗씠???먮쫫:** MQTT ?대씪?댁뼵???쇱씠釉뚮윭由??? `paho-mqtt`)瑜??듯빐 ?뱀젙 ?좏뵿??援щ룆?⑸땲?? 硫붿떆吏瑜??섏떊?섎㈃ Pydantic 紐⑤뜽???듯빐 ?곗씠???좏슚?깆쓣 寃利앺븯怨? 鍮꾩쫰?덉뒪 濡쒖쭅???곸슜????InfluxDB ?대씪?댁뼵?몃? ?ъ슜?섏뿬 ?곗씠?곕쿋?댁뒪??鍮꾨룞湲곗쟻?쇰줈 湲곕줉?⑸땲??
*   **?좎옱??蹂묐ぉ:**
    *   **?숆린??Synchronous) DB ?곌린:** InfluxDB???곗씠?곕? ?곕뒗 ?묒뾽???숆린?곸쑝濡?泥섎━??寃쎌슦, FastAPI???대깽??猷⑦봽媛 釉붾줈??Blocking)?섏뼱 ?ㅻⅨ ?붿껌 泥섎━媛 吏?곕맆 ???덉뒿?덈떎.
    *   **泥섎━ 濡쒖쭅??蹂듭옟??** ?곗씠??泥섎━ 濡쒖쭅??蹂듭옟?섍퀬 ?ㅻ옒 嫄몃┫ 寃쎌슦, MQTT 硫붿떆吏瑜??ㅼ떆媛꾩쑝濡?泥섎━?섏? 紐삵븯怨??대? ?먯뿉 硫붿떆吏媛 ?볦씠寃??⑸땲??
    *   **諛깊봽?덉뀛(Backpressure):** InfluxDB???곌린 ?깅뒫????섎맆 寃쎌슦, FastAPI ?좏뵆由ъ??댁뀡???곗씠?곌? 怨꾩냽 ?볦뿬 硫붾え由?遺議?Out of Memory) 臾몄젣瑜??쇱쑝?????덉뒿?덈떎.
*   **媛쒖꽑 ?꾩씠?붿뼱:**
    *   **鍮꾨룞湲?DB ?대씪?댁뼵???ъ슜:** `influxdb-client-python`??鍮꾨룞湲?API瑜??ъ슜?섏뿬 InfluxDB ?곌린 ?묒뾽???쇰툝濡쒗궧(Non-blocking)?쇰줈 泥섎━?⑸땲??
    *   **硫붿떆吏 ??Message Queue) ?꾩엯:** MQTT 援щ룆?먯? DB ???濡쒖쭅 ?ъ씠??RabbitMQ, Kafka, Redis Streams? 媛숈? 蹂꾨룄??硫붿떆吏 ?먮? ?꾩엯?⑸땲?? ?대? ?듯빐 ?곗씠??泥섎━瑜?遺꾨━?섍퀬, DB ?μ븷 ?쒖뿉???곗씠?곕? ?덉쟾?섍쾶 蹂닿??????덉뒿?덈떎.
    *   **諛곗튂(Batch) ?곌린:** ?곗씠?곕? 嫄대퀎濡??곗? ?딄퀬,訝若싨빊(?? 100媛? ?먮뒗 訝若싨셽???? 1珥? ?숈븞 紐⑥븘??InfluxDB??諛곗튂濡??곌린 ?묒뾽???섑뻾?섏뿬 ?ㅽ듃?뚰겕 諛?DB 遺?섎? 以꾩엯?덈떎.
    *   **Worker ?뺤옣:** Gunicorn怨?Uvicorn Worker ?꾨줈?몄뒪 ?섎? ?섎젮 FastAPI ?좏뵆由ъ??댁뀡???섑룊?곸쑝濡??뺤옣?섏뿬 ?숈떆 泥섎━?됱쓣 ?믪엯?덈떎.

---

### 4?④퀎: InfluxDB (Time-Series Database)

*   **??븷:** ?쇱꽌濡쒕????섏쭛???쒓퀎??Time-series) ?곗씠?곕? ??? 愿由? 議고쉶?섎뒗 ??理쒖쟻?붾맂 ?곗씠?곕쿋?댁뒪?낅땲??
*   **?곗씠???먮쫫:** FastAPI濡쒕????곌린 ?붿껌??諛쏆븘 ?곗씠?곕? ??ν빀?덈떎. Grafana??Flux 荑쇰━瑜??ъ슜?섏뿬 InfluxDB濡쒕????곗씠?곕? 議고쉶?⑸땲??
*   **?좎옱??蹂묐ぉ:**
    *   **?믪? 移대뵒?먮━??High Cardinality):** `sensor_id`? 媛숈씠 怨좎쑀??媛믪쓣 媛뽯뒗 ?쒓렇(Tag)媛 ?덈Т 留롮븘吏硫??몃뜳???ш린媛 湲됱쬆?섏뿬 ?꾨컲?곸씤 ?깅뒫????섎맗?덈떎.
    *   **鍮꾪슚?⑥쟻??荑쇰━:** ?뱀젙 湲곌컙???곗씠?곕? 吏묎퀎 ?놁씠 議고쉶?섎뒗 ??鍮꾪슚?⑥쟻??Flux 荑쇰━??DB????遺?섎? 以띾땲??
    *   **?붿뒪??I/O:** ?곗씠???곌린 諛??쎄린 ?묒뾽???붿뒪?ъ쓽 I/O ?깅뒫 ?쒓퀎???꾨떖?????덉뒿?덈떎.
*   **媛쒖꽑 ?꾩씠?붿뼱:**
    *   **?ㅽ궎留?理쒖쟻??** 移대뵒?먮━?곌? ?믪? ?곗씠?곕뒗 ?쒓렇(Tag) ????꾨뱶(Field)濡???ν븯??寃껋쓣 怨좊젮?⑸땲??
    *   **?ㅼ슫?섑뵆留?Downsampling):** InfluxDB??'Tasks' 湲곕뒫???ъ슜?섏뿬 ?먮낯 ?곗씠?곕? 二쇨린?곸쑝濡?吏묎퀎(?? 1珥??⑥쐞 ?곗씠?곕? 1遺??됯퇏 ?곗씠?곕줈 蹂???섏뿬 ?κ린 ?곗씠??議고쉶 ?깅뒫???μ긽?쒗궢?덈떎.
    *   **?곗씠??蹂댁〈 ?뺤콉(Retention Policies):** ?곗씠?곗쓽 以묒슂?꾩뿉 ?곕씪 蹂댁〈 湲곌컙???ㅼ젙?섏뿬 ?ㅻ옒???곗씠?곕뒗 ?먮룞?쇰줈 ??젣?섎룄濡?愿由ы빀?덈떎. (?? ?먮낯 ?곗씠?곕뒗 30?? 1遺?吏묎퀎 ?곗씠?곕뒗 1??蹂닿?)
    *   **?대윭?ㅽ꽣留?** InfluxDB Enterprise ?먮뒗 InfluxDB Cloud瑜??ъ슜?섏뿬 ?대윭?ㅽ꽣瑜?援ъ꽦?⑥쑝濡쒖뜥 ?곌린/?쎄린 遺?섎? 遺꾩궛?섍퀬 怨좉??⑹꽦???뺣낫?⑸땲??

---

### 5?④퀎: Grafana (Dashboard)

*   **??븷:** InfluxDB????λ맂 ?곗씠?곕? 議고쉶?섏뿬 ?ㅼ뼇??李⑦듃, 洹몃옒?? ?뚮┝(Alert) ?뺥깭濡??쒓컖?뷀븯????쒕낫???꾧뎄?낅땲??
*   **?곗씠???먮쫫:** ?ъ슜?먭? ??쒕낫?쒕? ?닿굅???덈줈怨좎묠?섎㈃, Grafana??InfluxDB瑜??곗씠???뚯뒪(Data Source)濡??섏뿬 Flux 荑쇰━瑜??ㅽ뻾?섍퀬, 洹?寃곌낵瑜?諛쏆븘 ?쒓컖?뷀빀?덈떎.
*   **?좎옱??蹂묐ぉ:**
    *   **怨쇰룄?섍쾶 蹂듭옟????쒕낫??** ?섎굹????쒕낫?쒖뿉 ?덈Т 留롮? ?⑤꼸???덇굅?? 媛??⑤꼸??留ㅼ슦 ?볦? ?쒓컙 踰붿쐞???먮낯 ?곗씠?곕? 議고쉶??寃쎌슦 Grafana? InfluxDB 紐⑤몢??遺?섎? 以띾땲??
    *   **?숈떆 ?ъ슜??利앷?:** 留롮? ?ъ슜?먭? ?숈떆????쒕낫?쒕? 議고쉶?섎㈃ InfluxDB?????荑쇰━ ?붿껌??湲됱쬆?섏뿬 ?깅뒫????섎맆 ???덉뒿?덈떎.
*   **媛쒖꽑 ?꾩씠?붿뼱:**
    *   **荑쇰━ 理쒖쟻??諛??ㅼ슫?섑뵆留??곗씠???쒖슜:** ??쒕낫?쒖쓽 媛쒖슂(Overview) ?⑤꼸?먯꽌???꾩뿉???앹꽦???ㅼ슫?섑뵆留곷맂 ?곗씠?곕? ?ъ슜?섍퀬, ?뱀젙 援ш컙???뺣?(Zoom-in)???뚮쭔 ?먮낯 ?곗씠?곕? 議고쉶?섎룄濡?荑쇰━瑜?理쒖쟻?뷀빀?덈떎.
    *   **??쒕낫??蹂??Variables) ?쒖슜:** `sensor_id`??`factory_id` 媛숈? 蹂?섎? ?ъ슜?섏뿬 ?ъ슜?먭? 蹂닿퀬 ?띠? ?곗씠?곗쓽 踰붿쐞瑜?吏곸젒 ?좏깮?섍쾶 ?⑥쑝濡쒖뜥 荑쇰━ 踰붿쐞瑜?以꾩엯?덈떎.
    *   **Grafana 罹먯떛 ?쒖슜:** Grafana Enterprise??荑쇰━ 罹먯떛 湲곕뒫???ъ슜?섏뿬 ?숈씪??荑쇰━?????諛섎났?곸씤 DB 議고쉶瑜?諛⑹??⑸땲??
    *   **Grafana ?섑룊 ?뺤옣:** ?ъ슜???섍? 留롮쓣 寃쎌슦, Grafana ?몄뒪?댁뒪瑜??щ윭 媛??먭퀬 ?욎뿉 濡쒕뱶 諛몃윴?쒕??띸쉰?섏뿬 遺?섎? 遺꾩궛?⑸땲??
