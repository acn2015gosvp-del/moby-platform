Loaded cached credentials.
`backend/api/services/alert_engine.py` ?뚯씪??由ы뙥?좊쭅 踰꾩쟾??遺꾩꽍??寃곌낵???ㅼ쓬怨?媛숈뒿?덈떎.

### 1. 援ъ“ 遺꾩꽍

??紐⑤뱢? ?ㅼ쓬怨?媛숈? ?쇰━?곸씤 ?뱀뀡?쇰줈 ??援ъ꽦?섏뼱 ?덉뒿?덈떎:

*   **紐⑤뱢 Docstring**: 紐⑤뱢????븷, 梨낆엫, 洹몃━怨?以묒슂??二쇱쓽?ы빆??紐낇솗???ㅻ챸?⑸땲??
*   **Imports**: ?꾩슂???쇱씠釉뚮윭由?諛??대? 紐⑤뱢(?? `anomaly_vector_service`, `alerts_summary`, `constants`)??媛?몄샃?덈떎.
*   **Pydantic 紐⑤뜽 ?뺤쓽**:
    *   `AlertInputModel`: ?뚮엺 泥섎━???낅젰 ?곗씠?곕? ?뺤쓽?섍퀬 ?좏슚?깆쓣 寃?ы빀?덈떎. ?ъ슜???뺤쓽 ?좏슚??寃?ш린(`vector_must_not_be_empty`, `check_thresholds`)瑜??ы븿?⑸땲??
    *   `AlertDetailsModel`: 理쒖쥌 ?뚮엺 ?섏씠濡쒕뱶 ??`details` ?꾨뱶??援ъ“瑜??뺤쓽?⑸땲??
    *   `AlertPayloadModel`: 理쒖쥌?곸쑝濡??앹꽦???뚮엺 ?섏씠濡쒕뱶???꾩껜 援ъ“瑜??뺤쓽?⑸땲??
*   **?대? ?좏떥由ы떚 ?⑥닔**:
    *   `_now_iso()`: ?꾩옱 UTC ?쒓컙??ISO8601 ?뺤떇?쇰줈 諛섑솚?섎뒗 ?ы띁 ?⑥닔?낅땲??
    *   `_normalize_level()`: `Severity` ?닿굅?뺤쓣 UI 移쒗솕?곸씤 `AlertLevel`濡?留ㅽ븨?⑸땲??
*   **怨듦컻 ?뷀듃由??ъ씤??(`evaluate_alert`)**: 湲곗〈 肄붾뱶????명솚?깆쓣 ?꾪빐 `process_alert`瑜??몄텧?섎뒗 ?⑥닔?낅땲??
*   **?듭떖 泥섎━ ?⑥닔 (`process_alert`)**: ?뚮엺 ?됯? 諛??섏씠濡쒕뱶 ?앹꽦??二쇱슂 濡쒖쭅???ы븿?⑸땲??
    *   Pydantic???댁슜???낅젰 ?곗씠???좏슚??寃??
    *   ?꾧퀎媛??좊Т???곕Ⅸ ?댁긽 踰≫꽣 ?됯? (?ш컖???ы븿/誘명룷??.
    *   ?댁긽???꾨땶 寃쎌슦 ?뚮엺 ?앹꽦??嫄대꼫?곕뒗 濡쒖쭅.
    *   理쒖쥌 `AlertPayloadModel` 援ъ꽦.
    *   ?좏깮??LLM ?붿빟 ?앹꽦.
*   **`__all__`**: 紐⑤뱢???꾪룷?몃맆 ???몃????몄텧???щ낵?ㅼ쓣 紐낆떆?⑸땲??

### 2. ?μ젏

1.  **紐낇솗??梨낆엫 遺꾨━ (Separation of Concerns)**: 紐⑤뱢????븷??"?뚮엺 ?됯? 諛??섏씠濡쒕뱶 ?앹꽦"?쇰줈 紐낇솗?섍쾶 ?뺤쓽?섏뼱 ?덉쑝硫? ?ㅼ젣 ?뚮┝ ?꾩넚? ?곸쐞 ?덉씠?댁뿉??泥섎━?섎룄濡?寃쎄퀬?섏뿬 ?⑥씪 梨낆엫 ?먯튃?????곕Ⅴ怨??덉뒿?덈떎. ?대뒗 MOBY 媛쒕컻 泥좏븰??"Separation of concerns"? ?쇱튂?⑸땲??
2.  **媛뺣젰???낅젰 ?좏슚??寃??(Pydantic)**: `AlertInputModel`???ъ슜?섏뿬 ?ㅼ뼱?ㅻ뒗 紐⑤뱺 ?곗씠?곕? ?꾧꺽?섍쾶 寃利앺빀?덈떎. ?뱁엳 `vector_must_not_be_empty` 諛?`check_thresholds`? 媛숈? ?ъ슜???뺤쓽 ?좏슚??寃?ш린???곗씠??臾닿껐?깆쓣 蹂댁옣?섍퀬 ?고????ㅻ쪟瑜??ш쾶 以꾩엯?덈떎.
3.  **?믪? 媛?낆꽦 諛??좎?蹂댁닔??*: Pydantic 紐⑤뜽怨?????뚰듃(`typing`)??愿묐쾾?꾪븳 ?ъ슜? 肄붾뱶??媛?낆꽦???믪씠怨??뺤쟻 遺꾩꽍???⑹씠?섍쾶 ?⑸땲?? ?쒓뎅?대줈 ??二쇱꽍怨?`process_alert` ?⑥닔 ?댁쓽 ?④퀎蹂?`1) ?낅젰 寃利?, `2) 踰≫꽣 湲곕컲 ?댁긽 ?됯?` ?? 援ъ꽦? 肄붾뱶 ?먮쫫???댄빐?섍린 ?쎄쾶 留뚮벊?덈떎.
4.  **紐⑤뱢??諛??뺤옣??*: ?듭떖 濡쒖쭅??`process_alert` ?⑥닔??罹≪뒓?붾릺???덉쑝硫? ?몃? ?쒕퉬??`anomaly_vector_service`, `alerts_summary`)????곹샇?묒슜??紐낇솗?⑸땲?? ?대뒗 ?ν썑 湲곕뒫 異붽???蹂寃????곹뼢??理쒖냼?뷀빀?덈떎.
5.  **寃ш퀬???ㅻ쪟 泥섎━**: `process_alert` ?댁뿉???낅젰 ?좏슚??寃??諛?踰≫꽣 ?됯? ?④퀎??`try-except` 釉붾줉???ъ슜?섏뿬 ?덉쇅瑜??곸젅??泥섎━?섍퀬 濡쒓퉭?⑸땲?? ?대뒗 ?쒕퉬?ㅼ쓽 ?덉젙?깆쓣 ?믪엯?덈떎.
6.  **?좎뿰???댁긽 媛먯?**: ?⑥씪 `threshold` 湲곕컲怨?`warning_threshold`, `critical_threshold`瑜??쒖슜???ш컖??湲곕컲 ?댁긽 媛먯?瑜?紐⑤몢 吏?먰븯???ㅼ뼇???쒕굹由ъ삤????묓븷 ???덉뒿?덈떎.
7.  **?좏깮??LLM ?듯빀**: `enable_llm_summary` ?뚮옒洹몃? ?듯빐 LLM ?붿빟 湲곕뒫???좏깮?곸쑝濡??쒖꽦?뷀븷 ???덉뼱, 由ъ냼???ъ슜??理쒖쟻?뷀븯怨??좎뿰?깆쓣 ?쒓났?⑸땲??
8.  **?섏쐞 ?명솚??*: `evaluate_alert` ?⑥닔瑜??듯빐 湲곗〈 肄붾뱶????명솚?깆쓣 ?좎??섎㈃??由ы뙥?좊쭅??`process_alert`瑜??ъ슜?????덈룄濡??⑸땲??

### 3. 異붽? 媛쒖꽑 諛⑺뼢

1.  **?ㅻ쪟 泥섎━???몃텇??*: ?꾩옱 `process_alert` ?댁쓽 `except Exception as exc:` 釉붾줉? ?덈Т 愿묐쾾?꾪빀?덈떎. `anomaly_vector_service`??`alerts_summary`?먯꽌 諛쒖깮?????덈뒗 ?뱀젙 ?덉쇅 ?좏삎??紐낆떆?곸쑝濡??ъ갑?섍퀬 泥섎━?섎㈃ ?붾쾭源낆씠 ???⑹씠?댁쭛?덈떎. ?덈? ?ㅼ뼱, `anomaly_vector_service`?먯꽌 ?ъ슜???뺤쓽 ?덉쇅瑜??뺤쓽?섍퀬 ?대? 泥섎━?????덉뒿?덈떎.
2.  **`process_alert` ???꾧퀎媛?濡쒖쭅 媛꾩냼??*: `process_alert` ?⑥닔 ?댁뿉??`warning_threshold`? `critical_threshold`??議댁옱 ?щ????곕씪 `evaluate_anomaly_vector_with_severity`? `evaluate_anomaly_vector`瑜?遺꾧린?섎뒗 濡쒖쭅???ㅼ냼 諛섎났?곸엯?덈떎. `anomaly_vector_service` 紐⑤뱢???⑥닔?ㅼ쓣 ???좎뿰?섍쾶 ?ㅺ퀎?섏뿬 ??遺遺꾩쓣 媛꾩냼?뷀븷 ???덈뒗吏 怨좊젮?대낵 ???덉뒿?덈떎 (?? ?⑥씪 ?⑥닔媛 紐⑤뱺 ?꾧퀎媛??쒕굹由ъ삤瑜?泥섎━?섎룄濡?.
3.  **?곸닔(Constants) ?꾪룷??紐낇솗??*: `constants` 紐⑤뱢?먯꽌 `Severity`??`AlertLevel`怨?媛숈? ?뱀젙 ?닿굅?뺤쓣 吏곸젒 ?꾪룷??`from .constants import Severity, AlertLevel`)?섎㈃ 肄붾뱶 媛?낆꽦???붿슧 ?μ긽?????덉뒿?덈떎.
4.  **?뚯뒪???⑹씠??媛뺥솕 (?좏깮 ?ы빆)**: ?꾩옱 援ъ“???뚯뒪?명븯湲?醫뗭?留? `anomaly_vector_service`??`alerts_summary`? 媛숈? ?몃? ?섏〈?깆쓣 紐⑥쓽(mock)?섍린 ?꾪빐 ?섏〈??二쇱엯(Dependency Injection) ?⑦꽩??怨좊젮?대낵 ???덉뒿?덈떎. ?대뒗 ?뱁엳 蹂듭옟???듯빀 ?뚯뒪?????좎슜?????덉뒿?덈떎. ?섏?留??꾩옱 洹쒕え?먯꽌??吏곸젒 ?꾪룷?몃룄 異⑸텇???⑸━?곸엯?덈떎.
5.  **濡쒓퉭 而⑦뀓?ㅽ듃 異붽?**: 遺꾩궛 ?쒖뒪???섍꼍?먯꽌 臾몄젣 異붿쟻???⑹씠?섍쾶 ?섍린 ?꾪빐, 濡쒓퉭 硫붿떆吏???붿껌 ID? 媛숈? 異붽??곸씤 而⑦뀓?ㅽ듃 ?뺣낫瑜??ы븿?섎뒗 寃껋쓣 怨좊젮?????덉뒿?덈떎.
6.  **`_normalize_level` Docstring ?몄뼱 ?듭씪**: ?遺遺꾩쓽 肄붾뱶 二쇱꽍???쒓뎅?댁씠吏留? `_normalize_level`怨?媛숈? ?좏떥由ы떚 ?⑥닔??Docstring? ?꾨줈?앺듃???꾨컲?곸씤 而⑤깽?섏뿉 ?곕씪 ?곸뼱濡??듭씪?섎뒗 寃껋쓣 怨좊젮?????덉뒿?덈떎. (?대뒗 ?꾨줈?앺듃???몄뼱 ?뺤콉???곕씪 ?ㅻ쫫).
