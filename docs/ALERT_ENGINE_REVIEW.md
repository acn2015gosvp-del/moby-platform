?뚭쿋?듬땲?? `alert_engine.py`? `anomaly_vector_service.py`???꾩껜 援ъ“瑜?遺꾩꽍?섍퀬, ?좎옱??臾몄젣?? 臾몄꽌??諛??뚯뒪???ъ씤?몃? ?ы븿??由ы뙥?좊쭅 媛쒖꽑?덉쓣 ?쒖븞???쒕━寃좎뒿?덈떎.

癒쇱? ???뚯씪???듭떖 ??븷???뚯븙?섍린 ?꾪빐 `codebase_investigator`瑜??ъ슜??遺꾩꽍???쒖옉?섍쿋?듬땲??
遺꾩꽍???꾨즺?섏뿀?듬땲?? `codebase_investigator`??遺꾩꽍 寃곌낵瑜?諛뷀깢?쇰줈 `alert_engine.py`? `anomaly_vector_service.py`?????由ы뙥?좊쭅 ?쒖븞???뺣━???쒕┰?덈떎.

### ?꾩껜 援ъ“ 諛??곹샇?묒슜 遺꾩꽍

- **??븷 遺꾨떞**: `alert_engine.py`???뚮┝ ?앹꽦 怨쇱젙??珥앷큵?섎뒗 **?ㅼ??ㅽ듃?덉씠??* ??븷???섎ŉ, `anomaly_vector_service.py`???댁긽 踰≫꽣(anomaly vector)???섑븰??怨꾩궛???대떦?섎뒗 ?ъ궗??媛?ν븳 **?좏떥由ы떚** ??븷???⑸땲?? ?대뒗 愿?ъ궗??遺꾨━媛 ???대（?댁쭊 醫뗭? ?ㅺ퀎?낅땲??
- **?곗씠???먮쫫**: `API Route` ??`alert_engine.py` ??`anomaly_vector_service.py` ?쒖꽌濡??⑤갑???곗씠???먮쫫??媛吏묐땲??
- **寃고빀??*: ??紐⑤뱢 媛꾩쓽 寃고빀? ?먯뒯?섍쾶 ??愿由щ릺怨??덉뒿?덈떎. `alert_engine`? `anomaly_vector_service`???대? 援ы쁽???꾨땶 ?⑥닔 ?쒓렇?덉쿂?먮쭔 ?섏〈?섎?濡??좎?蹂댁닔 諛??뺤옣???좊━?⑸땲??

---

### 臾몄젣??諛?媛쒖꽑 ?꾩씠?붿뼱

1.  **移섎챸??踰꾧렇 諛쒓껄**: `backend/api/routes_alerts.py`??`GET /alerts/latest` ?붾뱶?ъ씤?멸? ?뚮┝ ?됯? ?⑥닔(`evaluate_alert`)瑜??곗씠???놁씠 ?몄텧?섍퀬 ?덉뒿?덈떎. ?대줈 ?명빐 API瑜??듯븳 ?뚮┝ ?앹꽦???숈옉?섏? ?딆뒿?덈떎.
2.  **'留ㅼ쭅 ?ㅽ듃留? ?ъ슜**: `anomaly_vector_service.py`?먯꽌 ?ш컖?꾨? ?섑??대뒗 臾몄옄??`"critical"`, `"warning"`)???섎뱶肄붾뵫?섏뼱 ?덉뒿?덈떎. ?대뒗 `constants.Severity` Enum?쇰줈 ?泥댄븯???쇨??깆쓣 ?믪뿬???⑸땲??
3.  **濡쒖쭅 蹂듭옟??*: `alert_engine.process_alert` ?⑥닔 ?댁뿉??`evaluate_anomaly_vector`? `evaluate_anomaly_vector_with_severity`瑜??좏깮?섎뒗 `if/else` 遺꾧린臾몄? 肄붾뱶瑜?蹂듭옟?섍쾶 留뚮벊?덈떎. `anomaly_vector_service`???명꽣?섏씠?ㅻ? 媛쒖꽑?섏뿬 ??濡쒖쭅???⑥닚?뷀븷 ???덉뒿?덈떎.
4.  **誘몃???肄붾뱶 以묐났**: `anomaly_vector_service.py`??`calculate_vector_norm`怨?`calculate_vector_norm_squared` ?⑥닔?먯꽌 ?낅젰媛?寃利?濡쒖쭅??以묐났?⑸땲??

---

### 由ы뙥?좊쭅 ?쒖븞

1.  **API ?붾뱶?ъ씤???섏젙 (媛???쒓툒)**
    - `routes_alerts.py`??`GET` ?붿껌??`POST` ?붿껌?쇰줈 蹂寃쏀빐???⑸땲?? (?? `POST /alerts/evaluate`)
    - ?붿껌 蹂몃Ц(JSON body)??諛쏆븘 `evaluate_alert` ?⑥닔???몄옄濡??꾨떖?섎룄濡??섏젙?⑸땲??

2.  **`anomaly_vector_service` ?명꽣?섏씠???⑥닚??*
    - ??媛쒖쓽 ?됯? ?⑥닔瑜??섎굹濡??듯빀?섏뿬 ?좎뿰?깆쓣 ?믪엯?덈떎. `warning_threshold`瑜??좏깮???몄옄濡?留뚮뱾???섎굹???⑥닔媛 ??媛吏 耳?댁뒪瑜?紐⑤몢 泥섎━?섍쾶 ?⑸땲??

    ```python
    # In anomaly_vector_service.py
    from typing import List, Optional, Tuple
    from .constants import Severity

    def evaluate_anomaly(
        vector: List[float],
        critical_threshold: float,
        warning_threshold: Optional[float] = None
    ) -> Tuple[float, bool, Severity]:
        """
        踰≫꽣??norm??怨꾩궛?섍퀬 ?꾧퀎媛믪뿉 ?곕씪 ?댁긽 ?곹깭 諛??ш컖?꾨? ?됯??⑸땲??
        """
        # ... norm 怨꾩궛 諛??좏슚??寃??濡쒖쭅 ...

        if norm >= critical_threshold:
            return norm, True, Severity.CRITICAL
        if warning_threshold is not None and norm >= warning_threshold:
            return norm, True, Severity.WARNING
        return norm, False, Severity.NORMAL
    ```

3.  **`alert_engine` 濡쒖쭅 ?⑥닚??*
    - ?꾩뿉???쒖븞??`evaluate_anomaly` ?⑥닔瑜??ъ슜?섎룄濡?`process_alert` ?⑥닔瑜??섏젙?⑸땲?? ?대젃寃??섎㈃ 蹂듭옟??`if/else` 遺꾧린臾몄씠 ?щ씪吏怨?肄붾뱶媛 ?⑥뵮 媛꾧껐?댁쭛?덈떎.

    ```python
    # In alert_engine.py
    from .anomaly_vector_service import evaluate_anomaly

    def process_alert(alert_data: dict) -> Optional[AlertPayloadModel]:
        # ... ?낅젰 ?곗씠??寃利?...

        norm, is_anomaly, severity = evaluate_anomaly(
            vector=validated_data.vector,
            critical_threshold=validated_data.thresholds.critical,
            warning_threshold=validated_data.thresholds.warning
        )

        if not is_anomaly:
            return None

        # ... ?뚮┝ ?섏씠濡쒕뱶 ?앹꽦 濡쒖쭅 ...
    ```

4.  **?ш컖???곸닔 以묒븰??*
    - `anomaly_vector_service.py`?먯꽌 ?섎뱶肄붾뵫??臾몄옄?????`constants.Severity` Enum??吏곸젒 諛섑솚?섎룄濡??섏젙?⑸땲?? (`alert_engine`? ?대? Enum???ъ슜?섍퀬 ?덉쑝誘濡??쇨??깆씠 ?믪븘吏묐땲??)

---

### 臾몄꽌???ъ씤??
- **`alert_engine.process_alert`**: ?⑥닔????븷(?ㅼ??ㅽ듃?덉씠??, 湲곕??섎뒗 `alert_data` ?뺤뀛?덈━???? 諛섑솚 媛믪뿉 ???Docstring?????곸꽭?섍쾶 ?묒꽦?⑸땲??
- **`anomaly_vector_service.py`**: `ValueError`? 媛숈? ?덉쇅 諛쒖깮 議곌굔??Docstring??`Raises` ?뱀뀡??紐낇솗??湲곗닠?⑸땲??
- **API 臾몄꽌**: ?섏젙??`POST /alerts/evaluate` ?붾뱶?ъ씤?몄뿉 ???紐낇솗??API 紐낆꽭(Swagger/OpenAPI)瑜??쒓났?댁빞 ?⑸땲??

---

### ?뚯뒪???ъ씤??
- **`anomaly_vector_service` ?⑥쐞 ?뚯뒪??*:
    - ?ㅼ뼇??踰≫꽣(鍮?媛? ?レ옄媛 ?꾨땶 媛? ?뺤긽 媛??????`evaluate_anomaly` ?⑥닔 ?뚯뒪??    - 寃쎄퀎媛??뚯뒪??(norm 媛믪씠 ?꾧퀎媛믨낵 ?뺥솗???쇱튂?섎뒗 寃쎌슦)
- **`alert_engine` ?⑥쐞 ?뚯뒪??*:
    - `anomaly_vector_service`? `alerts_summary`瑜?Mocking?섏뿬 `process_alert` 濡쒖쭅??寃⑸━ ?뚯뒪?명빀?덈떎.
    - ?ㅼ뼇???낅젰(?뺤긽/鍮꾩젙???곗씠?? ?ш컖???꾧퀎媛??좊Т)???곕Ⅸ 寃곌낵瑜?寃利앺빀?덈떎.
- **?듯빀 ?뚯뒪??*:
    - ?섏젙??`POST /alerts/evaluate` ?붾뱶?ъ씤?몄뿉 ?ㅼ젣 ?섏씠剋棘?쒕? ?꾩넚?섏뿬, ?댁긽 ?곹솴?????좏슚??`AlertPayloadModel`??諛섑솚?섎뒗吏, ?뺤궛 ?곹솴???뚮뒗 `None` ?먮뒗 `204 No Content`媛 諛섑솚?섎뒗吏 寃利앺빀?덈떎.

???쒖븞?ㅼ쓣 諛뷀깢?쇰줈 肄붾뱶 媛쒖꽑 ?묒뾽??吏꾪뻾?섏떆硫??쒖뒪?쒖쓽 ?덉젙?깃낵 ?좎?蹂댁닔?깆씠 ?ш쾶 ?μ긽??寃껋엯?덈떎. 異붽??곸씤 吏덈Ц???덉쑝?쒕㈃ ?몄젣?좎? 臾몄쓽??二쇱꽭??
